# =======================
# APPLICATION CONFIG
# =======================
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:5173
BACKEND_URL=http://localhost:3000

# =======================
# DATABASE
# =======================
# Local development
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/hedging_platform?schema=public

# Render managed database (production)
# DATABASE_URL will be auto-provided by Render as RENDER_POSTGRES_URL

# =======================
# REDIS
# =======================
# Local development
REDIS_URL=redis://localhost:6379

# Render managed Redis (production)
# REDIS_URL will be auto-provided by Render as RENDER_REDIS_URL

# =======================
# AUTHENTICATION & SECURITY
# =======================
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# For RS256 signing (recommended for production)
# JWT_PRIVATE_KEY_PATH=./keys/jwt-private.pem
# JWT_PUBLIC_KEY_PATH=./keys/jwt-public.pem

# Password hashing (argon2)
PASSWORD_HASH_MEMORY_COST=65536
PASSWORD_HASH_TIME_COST=3
PASSWORD_HASH_PARALLELISM=4

# =======================
# BLOCKCHAIN & WEB3
# =======================
# Polygon Mumbai Testnet RPC (or use Infura/Alchemy)
BLOCKCHAIN_RPC_URL=https://rpc-mumbai.maticvigil.com
BLOCKCHAIN_NETWORK=mumbai
BLOCKCHAIN_CHAIN_ID=80001

# Private key for contract deployment (DO NOT COMMIT)
# Generate with: npx hardhat account
BLOCKCHAIN_PRIVATE_KEY=your-private-key-here

# Contract addresses (filled after deployment)
FORWARD_CONTRACT_REGISTRY_ADDRESS=

# Local Hardhat node (for development)
# BLOCKCHAIN_RPC_URL=http://localhost:8545
# BLOCKCHAIN_NETWORK=localhost
# BLOCKCHAIN_CHAIN_ID=31337

# =======================
# IPFS / DECENTRALIZED STORAGE
# =======================
# Pinata (https://www.pinata.cloud/)
IPFS_PROVIDER=pinata
PINATA_API_KEY=
PINATA_SECRET_KEY=
PINATA_GATEWAY_URL=https://gateway.pinata.cloud/ipfs/

# Web3.Storage (alternative)
# IPFS_PROVIDER=web3storage
# WEB3_STORAGE_TOKEN=

# Local IPFS node (for development)
# IPFS_PROVIDER=local
# IPFS_NODE_URL=http://localhost:5001

# Disable IPFS (use local storage stub)
# IPFS_ENABLED=false

# =======================
# AI & ML SERVICES
# =======================
AI_SERVICE_URL=http://localhost:8000
AI_SERVICE_ENABLED=true

# OpenAI for market sentiment analysis (optional)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4
OPENAI_ENABLED=false

# Model training config
ML_MODEL_TYPE=prophet
ML_RETRAIN_SCHEDULE=0 2 * * 0
ML_MODEL_VERSION=v1.0.0

# =======================
# EXTERNAL DATA SOURCES
# =======================
# Market data ingestion
MARKET_DATA_SOURCE=csv
MARKET_DATA_API_URL=
MARKET_DATA_API_KEY=

# Price data ingestion schedule (cron)
PRICE_INGESTION_SCHEDULE=0 * * * *

# =======================
# PAYMENT PROVIDERS (OPTIONAL)
# =======================
# Razorpay (India)
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=
RAZORPAY_ENABLED=false

# Stripe (International)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_ENABLED=false

# =======================
# NOTIFICATIONS
# =======================
# Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@hedgingplatform.com
EMAIL_ENABLED=false

# SMS (Twilio)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
SMS_ENABLED=false

# Push notifications (Firebase)
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=
PUSH_ENABLED=false

# =======================
# MONITORING & OBSERVABILITY
# =======================
# Sentry error tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_ENABLED=false

# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Logging
LOG_LEVEL=debug
LOG_FORMAT=json

# =======================
# RATE LIMITING
# =======================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_ENABLED=true

# =======================
# CORS
# =======================
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# =======================
# SESSION & COOKIES
# =======================
SESSION_SECRET=your-session-secret-change-in-production
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax

# =======================
# FEATURE FLAGS
# =======================
FEATURE_BLOCKCHAIN_ENABLED=true
FEATURE_AI_PREDICTIONS_ENABLED=true
FEATURE_REALTIME_TRADING=true
FEATURE_PAYMENTS_ENABLED=false
FEATURE_SMS_NOTIFICATIONS=false

# =======================
# WORKER & JOBS
# =======================
WORKER_CONCURRENCY=5
JOB_ATTEMPTS=3
JOB_BACKOFF_DELAY=5000

# =======================
# TRADING ENGINE
# =======================
TRADING_ENGINE_MODE=simulated
ORDER_MATCHING_INTERVAL=1000
SETTLEMENT_DELAY_MS=5000
MAX_SLIPPAGE_PERCENT=2

# =======================
# FILE STORAGE
# =======================
STORAGE_TYPE=local
STORAGE_PATH=./uploads
MAX_FILE_SIZE_MB=10

# AWS S3 (optional)
# STORAGE_TYPE=s3
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_S3_BUCKET=
# AWS_REGION=us-east-1

# =======================
# RENDER SPECIFIC (PRODUCTION)
# =======================
# These are auto-provided by Render, no need to set manually
# RENDER_POSTGRES_URL=
# RENDER_REDIS_URL=
# RENDER_EXTERNAL_URL=
# RENDER_GIT_COMMIT=
# RENDER_SERVICE_NAME=

# =======================
# TIMEOUTS & LIMITS
# =======================
API_TIMEOUT_MS=30000
DB_POOL_SIZE=10
DB_CONNECTION_TIMEOUT_MS=5000
REDIS_CONNECT_TIMEOUT_MS=10000

# =======================
# DEVELOPMENT HELPERS
# =======================
# Enable API request logging
API_LOGGING=true

# Enable query logging
DB_QUERY_LOGGING=false

# Disable auth for testing (NEVER IN PRODUCTION)
DISABLE_AUTH=false

# Seed database on startup
AUTO_SEED=false

# =======================
# COMPLIANCE & AUDIT
# =======================
AUDIT_LOGGING_ENABLED=true
DATA_RETENTION_DAYS=2555
GDPR_MODE=false

# =======================
# LOCALIZATION
# =======================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,hi-EN
TIMEZONE=Asia/Kolkata
